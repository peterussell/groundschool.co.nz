<div *ngIf="auth.isLoading$ | async; else loaded">
  Loading...
</div>

<ng-template #loaded>
  <div>
    <span *ngIf="auth.user$ | async as user;else log_in">
      Logged in as {{ user.email }} <button (click)="handleLogOut()">Log out</button>
    </span>

    <ng-template #log_in>
      <button (click)="handleLogIn()">Log in</button>
      <button (click)="handleSignUp()">Sign up</button>
    </ng-template>
  </div>
</ng-template>

<div>
  <a routerLink="/">Home</a> |
  <a routerLink="dashboard">Dashboard</a> |
  <a routerLink="login">Log In</a>
</div>
